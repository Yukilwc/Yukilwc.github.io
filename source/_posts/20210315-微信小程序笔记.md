---
title: '微信小程序笔记'
categories:
- 其他
tags: 
- 收集
description: 微信小程序的坑点，技巧等
cover: https://blog-misaka1033.oss-cn-beijing.aliyuncs.com/blog/images/84197684_p0.webp
---

# 经验记录

## echarts与弹窗的覆盖问题

### 描述

> 当页面同时存在echarts，也就是canvas组件，和弹窗时，蒙层无法覆盖原生组件的问题

### 解决

canvas 2d的一个重大更新，就是支持了[同层渲染 ](https://developers.weixin.qq.com/community/develop/article/doc/000c4e433707c072c1793e56f5c813),
也就是说，是可以使用定位的z-index，来进行覆盖的.小程序会将原生组件渲染到web层视图层级中.

[同层渲染支持组件看这里](https://developers.weixin.qq.com/miniprogram/dev/component/native-component.html#%E5%8E%9F%E7%94%9F%E7%BB%84%E4%BB%B6%E5%90%8C%E5%B1%82%E6%B8%B2%E6%9F%93)

由于我先入为主，使用了cover-view覆盖，而cover-view对样式差劲的支持，导致陷入泥潭.

也就是说，只需要正常得使用定位覆盖即可。

特别注意!开发者工具上，canvas是无法被覆盖的，会误导开发者，而在真机上，是可以的。因此，以后注意，凡是涉及原生组件，一定不要相信开发者工具的显示，要在真机上看渲染效果.

### 截图

![调试工具canvas 2d不会被覆盖](https://blog-misaka1033.oss-cn-beijing.aliyuncs.com/blog/images/微信图片_20210314165942.png)

![真机canvas 2d可以被覆盖](https://blog-misaka1033.oss-cn-beijing.aliyuncs.com/blog/images/微信图片_20210314165949.jpg)